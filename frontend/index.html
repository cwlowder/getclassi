<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <meta name="google-signin-scope" content="profile email">
    <meta name="google-signin-client_id" content="667147779945-d349v2ioe3f5kvqhhsvrcvepj8jqpqrn.apps.googleusercontent.com">
    <script src="https://apis.google.com/js/platform.js" async defer></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>    <!-- Bootstrap Core JavaScript -->
    <title>Classi</title>
    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <!-- Custom CSS -->
    <style>
    body {
      background-color: #122B4A;
    }
    </style>
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Josefin+Slab:100,300,400,600,700,100italic,300italic,400italic,600italic,700italic" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>
<body>
    <div class="brand" style = "color:yellow"><b></b></div>
    <div class="container">

        <div class="row">
            <div class="box">
                <div class="col-lg-12 text-center">
                    <img class="center" width="55%" height="55%" src="https://cdn.vox-cdn.com/thumbor/eaEUIhno87pQloymYPI22pthRNo=/0x0:800x400/920x613/filters:focal(336x136:464x264):format(webp)/cdn.vox-cdn.com/uploads/chorus_image/image/56187479/DHNkdRfXoAEp2VD.0.jpg" alt="">


                    <h2 id="welcomeTo" class="brand-before" style="color: white;">
                        Welcome to
                    </h2>
                    <h1 style="color: white;" class="brand-name">Classi</h1>

                    <!--<h1 style="color: white;" class="login-instruction">Please sign in with your UIUC email!</h1> -->

            </div>
        </div>
        <form method="get" action="/calendar.html">
          <button class="btn btn-default btn-lg" type="submit" style="display: block; margin: 0 auto;">Go To Your Calendar!</button>
        </form>
				<br></br>
				<div class="g-signin2" align = "center" data-onsuccess="onSignIn"></div>
				<br></br>
				<div id = "signOut" align = "center">
					<button onclick="signOut()">Sign Out</button>
				</div>
				<script>
				function onSignIn(googleUser) {
				  var profile = googleUser.getBasicProfile();
					var id_token = googleUser.getAuthResponse().id_token;

					$.post("/api/sign_in?email=" + profile.getEmail(), JSON.stringify({google_token: id_token}) , function(result) {

                    })
    			    .done(function(result) {
                        if (result['status']) {
                            document.cookie = "sessionID=" + result['message'] + "; HttpOnly; secure;";
                        } else {
                            console.log("Failed to log in:", + result['message'])
                        }
        			    var auth2 = gapi.auth2.getAuthInstance();
    			        auth2.signOut().then(function () {
    			            console.log('User signed out.');
        			    });
			        })
    			    .fail(function(jqXHR, textStatus, errorThrown) {
    			      console.log("Failed");
    						var auth2 = gapi.auth2.getAuthInstance();
    				    auth2.signOut().then(function () {
    				      console.log('User signed out.');
    				    });
    			    })
				}

				</script>

    <!-- jQuery -->
    <script src="js/bootstrap.min.js"></script>
    <script type="application/ld+json">
    {
      "@context" : "https://schema.org",
      "@type" : "Organization",
      "name" : "Classi",
      "url" : "https:\/\/getclassi.web.illinois.edu",
    }
</script>
</body>
</html>
